"use strict";(self["webpackChunkin_job"]=self["webpackChunkin_job"]||[]).push([[484],{8484:function(o,e,i){i.r(e),i.d(e,{default:function(){return T}});var t=i(6768),a=i(5130),l=i(4232);const c={class:"container"},n={class:"form-group"},r={class:"form-group"},d={class:"form-group"},s={class:"form-group"},u={class:"form-group"},m={class:"form-group"},p={id:"productosBotones",class:"mb-3"},b=["onClick"],h={key:0,class:"mb-3"},k={class:"table table-bordered"},f=["onUpdate:modelValue","onInput"],L={class:"card mt-3",style:{width:"18rem"}},v={class:"card-body"},g={class:"card-text"},P=["disabled"];function y(o,e,i,y,S,D){const E=(0,t.g2)("AppNav"),C=(0,t.g2)("center");return(0,t.uX)(),(0,t.CE)("div",c,[(0,t.bF)(E),e[17]||(e[17]=(0,t.Lk)("br",null,null,-1)),e[18]||(e[18]=(0,t.Lk)("br",null,null,-1)),e[19]||(e[19]=(0,t.Lk)("h2",null,"Formulario de Domicilio",-1)),(0,t.Lk)("form",{onSubmit:e[5]||(e[5]=(0,a.D$)(((...o)=>D.guardarDomicilio&&D.guardarDomicilio(...o)),["prevent"]))},[(0,t.Lk)("div",n,[e[6]||(e[6]=(0,t.Lk)("label",{for:"fecha"},"Fecha",-1)),(0,t.bo)((0,t.Lk)("input",{type:"date",id:"fecha",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=o=>S.domicilio.fecha=o),required:""},null,512),[[a.Jo,S.domicilio.fecha]])]),(0,t.Lk)("div",r,[e[7]||(e[7]=(0,t.Lk)("label",{for:"nombre"},"Nombre",-1)),(0,t.bo)((0,t.Lk)("input",{type:"text",id:"nombre",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=o=>S.domicilio.nombre=o),required:""},null,512),[[a.Jo,S.domicilio.nombre]])]),(0,t.Lk)("div",d,[e[8]||(e[8]=(0,t.Lk)("label",{for:"direccion"},"Dirección",-1)),(0,t.bo)((0,t.Lk)("input",{type:"text",id:"direccion",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=o=>S.domicilio.direccion=o),required:""},null,512),[[a.Jo,S.domicilio.direccion]])]),(0,t.Lk)("div",s,[e[9]||(e[9]=(0,t.Lk)("label",{for:"telefono"},"Teléfono",-1)),(0,t.bo)((0,t.Lk)("input",{type:"text",id:"telefono",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=o=>S.domicilio.telefono=o),required:""},null,512),[[a.Jo,S.domicilio.telefono]])]),(0,t.Lk)("div",u,[e[11]||(e[11]=(0,t.Lk)("label",{for:"estadoPago"},"Estado de Pago",-1)),(0,t.bo)((0,t.Lk)("select",{id:"estadoPago",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=o=>S.domicilio.estadoPago=o),required:""},e[10]||(e[10]=[(0,t.Lk)("option",{value:"Pendiente"},"Pendiente",-1),(0,t.Lk)("option",{value:"Pagado"},"Pagado",-1)]),512),[[a.u1,S.domicilio.estadoPago]])]),(0,t.Lk)("div",m,[e[13]||(e[13]=(0,t.Lk)("label",{for:"productos"},"Producto",-1)),(0,t.Lk)("div",p,[e[12]||(e[12]=(0,t.Lk)("h4",{class:"text-info"},"Selecciona un producto:",-1)),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(S.productos,((o,e)=>((0,t.uX)(),(0,t.CE)("button",{key:e,class:"btn btn-success m-2",onClick:(0,a.D$)((e=>D.seleccionarProducto(o.nombre,o.precio)),["prevent"])},(0,l.v_)(o.nombre)+" - $"+(0,l.v_)(o.precio),9,b)))),128))])]),S.productosSeleccionados.length>0?((0,t.uX)(),(0,t.CE)("div",h,[e[15]||(e[15]=(0,t.Lk)("h4",{class:"text-info"},"Productos Seleccionados:",-1)),(0,t.Lk)("table",k,[e[14]||(e[14]=(0,t.Lk)("thead",null,[(0,t.Lk)("tr",null,[(0,t.Lk)("th",null,"Producto"),(0,t.Lk)("th",null,"Precio"),(0,t.Lk)("th",null,"Cantidad"),(0,t.Lk)("th",null,"Total")])],-1)),(0,t.Lk)("tbody",null,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(S.productosSeleccionados,((o,e)=>((0,t.uX)(),(0,t.CE)("tr",{key:e},[(0,t.Lk)("td",null,(0,l.v_)(o.nombre),1),(0,t.Lk)("td",null,"$"+(0,l.v_)(o.precio),1),(0,t.Lk)("td",null,[(0,t.bo)((0,t.Lk)("input",{type:"number",class:"form-control","onUpdate:modelValue":e=>o.cantidad=e,min:"1",onInput:o=>D.actualizarTotal(e)},null,40,f),[[a.Jo,o.cantidad,void 0,{number:!0}]])]),(0,t.Lk)("td",null,"$"+(0,l.v_)(o.precio*o.cantidad),1)])))),128))])])])):(0,t.Q3)("",!0),(0,t.bF)(C,null,{default:(0,t.k6)((()=>[(0,t.Lk)("div",L,[(0,t.Lk)("div",v,[e[16]||(e[16]=(0,t.Lk)("h5",{class:"card-title"},"Suma Total",-1)),(0,t.Lk)("p",g,"Total: $"+(0,l.v_)(D.sumaTotal),1)])])])),_:1}),(0,t.Lk)("button",{type:"submit",class:"btn btn-primary",disabled:S.botonDeshabilitado}," Guardar Domicilio ",8,P)],32),e[20]||(e[20]=(0,t.Lk)("br",null,null,-1)),e[21]||(e[21]=(0,t.Lk)("br",null,null,-1))])}i(4114),i(8992),i(2577),i(1454),i(8872);var S=i(4871),D=i(4874),E=i.n(D),C=i(4373),_={name:"DomicilioView",components:{AppNav:S.A},data(){return{domicilio:{fecha:"",nombre:"",direccion:"",telefono:"",estadoPago:"Pendiente"},productos:[{nombre:"Avena",precio:1e3},{nombre:"Empanada de Pollo",precio:1500},{nombre:"Empanada de Jamón y Queso",precio:1500},{nombre:"Empanada de Queso",precio:1500},{nombre:"Empanada Hawaiana",precio:1500},{nombre:"Combo 3 Empanadas y 1 Avena",precio:5e3},{nombre:"Combo 5 Empanadas y 1 Avena",precio:8e3}],productosSeleccionados:[],botonDeshabilitado:!1}},computed:{sumaTotal(){return this.productosSeleccionados.reduce(((o,e)=>o+e.precio*e.cantidad),0)}},methods:{seleccionarProducto(o,e){const i=this.productosSeleccionados.find((e=>e.nombre===o));i?i.cantidad++:this.productosSeleccionados.push({nombre:o,precio:e,cantidad:1})},actualizarTotal(o){const e=this.productosSeleccionados[o];e.total=e.precio*e.cantidad},guardarDomicilio(){if(this.botonDeshabilitado=!0,!this.domicilio.fecha||!this.domicilio.nombre||!this.domicilio.direccion||!this.domicilio.telefono||0===this.productosSeleccionados.length)return E().fire({icon:"error",title:"Error",text:"Por favor, complete todos los campos."}),void(this.botonDeshabilitado=!1);try{const o=this.productosSeleccionados.map((o=>o.nombre)).join(" + "),e=this.productosSeleccionados.reduce(((o,e)=>o+e.precio*e.cantidad),0).toString(),i=this.productosSeleccionados.reduce(((o,e)=>o+e.cantidad),0).toString();C.A.post("/domicilios",{nombre:this.domicilio.nombre,direccion:this.domicilio.direccion,telefono:this.domicilio.telefono,fecha:this.domicilio.fecha,estadoPago:this.domicilio.estadoPago,producto:o,precio:e,cantidad:i}).then((o=>{console.log("Domicilio guardado:",o.data),E().fire({icon:"success",title:"Éxito",text:"Domicilio guardado correctamente"}),this.domicilio={fecha:"",nombre:"",direccion:"",telefono:"",estadoPago:"Pendiente"},this.productosSeleccionados=[]}))}catch(o){console.error("Error al guardar el domicilio:",o),E().fire({icon:"error",title:"Error",text:"Hubo un error al guardar el domicilio."})}finally{this.botonDeshabilitado=!1}}}},x=i(1241);const A=(0,x.A)(_,[["render",y],["__scopeId","data-v-230d2000"]]);var T=A}}]);
//# sourceMappingURL=484.a6a60828.js.map