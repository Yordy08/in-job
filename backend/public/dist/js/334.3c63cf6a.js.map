{"version":3,"file":"js/334.3c63cf6a.js","mappings":"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","sources":["webpack://in-job/./src/views/EgresosView.vue","webpack://in-job/./src/views/EgresosView.vue?f519"],"sourcesContent":["<template>\r\n  \r\n  <div class=\"container mt-4\">\r\n    <AppNav />\r\n    <br>\r\n    <br>\r\n    <!-- Espacio para mostrar el total -->\r\n    <div class=\"mb-4\">\r\n      <h4>Total: {{ totalValue }}</h4>\r\n    </div>\r\n\r\n    <div v-for=\"(input, index) in inputs\" :key=\"index\" class=\"card mb-3 animate__animated animate__fadeInUp\">\r\n      <div class=\"card-body\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-5\">\r\n            <label for=\"descripcion\" class=\"form-label\">Descripción</label>\r\n            <textarea class=\"form-control\" v-model=\"input.descripcion\" id=\"descripcion\" rows=\"3\" placeholder=\"Descripción\"></textarea>\r\n          </div>\r\n          <div class=\"col-md-5\">\r\n            <label for=\"valor\" class=\"form-label\">Valor</label>\r\n            <input type=\"number\" class=\"form-control\" v-model=\"input.valor\" id=\"valor\" placeholder=\"Valor\">\r\n          </div>\r\n          <div class=\"col-md-2 d-flex align-items-end\">\r\n            <button @click=\"confirmRemoveInput(index)\" class=\"btn btn-danger\">Eliminar</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"d-flex justify-content-between\">\r\n      <button @click=\"confirmSave\" class=\"btn btn-primary\">Guardar</button>\r\n      <button @click=\"addInput\" class=\"btn btn-success\">Agregar</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AppNav from '@/components/AppNav.vue'\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nexport default {\r\n  name: 'EgresosView', // Esta línea debe estar dentro del objeto `export default`\r\n  components: {\r\n    AppNav // Asegúrate de que el nombre del componente coincida con el archivo\r\n  },\r\n  data() {\r\n    return {\r\n      inputs: [\r\n        { descripcion: '', valor: '' },\r\n      ],\r\n      botonDeshabilitado: false,\r\n    };\r\n  },\r\n  computed: {\r\n    // Calcula el total de los valores\r\n    totalValue() {\r\n      return this.inputs.reduce((total, input) => total + (parseFloat(input.valor) || 0), 0);\r\n    }\r\n  },\r\n  methods: {\r\n    addInput() {\r\n      this.inputs.push({ descripcion: '', valor: '' });\r\n    },\r\n    // Muestra confirmación antes de eliminar\r\n    confirmRemoveInput(index) {\r\n      Swal.fire({\r\n        title: '¿Estás seguro?',\r\n        text: \"¡Este cambio no se puede deshacer!\",\r\n        icon: 'warning',\r\n        showCancelButton: true,\r\n        confirmButtonText: 'Sí, eliminar',\r\n        cancelButtonText: 'Cancelar',\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          this.removeInput(index);\r\n          Swal.fire('Eliminado!', 'El ítem ha sido eliminado.', 'success');\r\n        }\r\n      });\r\n    },\r\n    // Elimina el input\r\n    removeInput(index) {\r\n      this.inputs.splice(index, 1);\r\n    },\r\n    // Muestra confirmación antes de guardar\r\n    confirmSave() {\r\n      Swal.fire({\r\n        title: '¿Estás seguro?',\r\n        text: \"¿Quieres guardar estos cambios?\",\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonText: 'Sí, guardar',\r\n        cancelButtonText: 'Cancelar',\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          this.save();\r\n        }\r\n      });\r\n    },\r\n    async save() {\r\n      try {\r\n        this.botonDeshabilitado = true;\r\n\r\n        // Enviar los datos de cada objeto individualmente\r\n        for (let input of this.inputs) {\r\n          console.log(\"Datos a guardar:\", input);  // Imprimir el objeto con 'descripcion' y 'valor'\r\n\r\n          await axios.post(\"/egresos\", {\r\n            descripcion: input.descripcion,\r\n            valor: input.valor,\r\n          });\r\n        }\r\n\r\n        Swal.fire(\"Éxito\", \"Datos guardados correctamente.\", \"success\");\r\n\r\n        // Resetear formulario\r\n        this.inputs = [{ descripcion: '', valor: '' }];\r\n      } catch (error) {\r\n        console.error(\"Error al guardar los datos:\", error);\r\n        Swal.fire(\r\n          \"Error\",\r\n          \"Hubo un problema al guardar los datos. Inténtelo más tarde.\",\r\n          \"error\"\r\n        );\r\n      } finally {\r\n        this.botonDeshabilitado = false;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  max-width: 600px;\r\n}\r\n\r\n.card {\r\n  animation-duration: 0.5s;\r\n}\r\n\r\n.card-body {\r\n  padding: 20px;\r\n}\r\n\r\n.card-text {\r\n  font-size: 14px;\r\n}\r\n\r\n.card button {\r\n  margin-top: 10px;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .container {\r\n    padding: 0 15px;\r\n  }\r\n\r\n  .card {\r\n    margin-bottom: 15px;\r\n  }\r\n\r\n  .card-body {\r\n    padding: 15px;\r\n  }\r\n\r\n  .btn {\r\n    width: 100%;\r\n    margin-top: 10px;\r\n  }\r\n\r\n  .d-flex {\r\n    flex-direction: column;\r\n  }\r\n}\r\n\r\n/* Animaciones con Animate.css */\r\n@import 'animate.css';\r\n\r\n@import \"~animate.css/animate.min.css\";\r\n</style>\r\n","import { render } from \"./EgresosView.vue?vue&type=template&id=9037a378&scoped=true\"\nimport script from \"./EgresosView.vue?vue&type=script&lang=js\"\nexport * from \"./EgresosView.vue?vue&type=script&lang=js\"\n\nimport \"./EgresosView.vue?vue&type=style&index=0&id=9037a378&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-9037a378\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_AppNav","_createElementVNode","_hoisted_2","_toDisplayString","$options","totalValue","_Fragment","_renderList","$data","inputs","input","index","key","_hoisted_3","_hoisted_4","_hoisted_5","for","$event","descripcion","id","rows","placeholder","_hoisted_6","_hoisted_7","type","valor","_hoisted_8","_hoisted_9","onClick","confirmRemoveInput","_hoisted_10","_hoisted_11","_cache","args","confirmSave","addInput","name","components","AppNav","data","botonDeshabilitado","computed","this","reduce","total","parseFloat","methods","push","Swal","title","text","icon","showCancelButton","confirmButtonText","cancelButtonText","then","result","isConfirmed","removeInput","splice","save","console","log","axios","post","error","__exports__","render"],"sourceRoot":""}