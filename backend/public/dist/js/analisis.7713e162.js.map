{"version":3,"file":"js/analisis.7713e162.js","mappings":"uLAEOA,MAAM,a,GAFbC,IAAA,G,GAAAA,IAAA,G,GASaD,MAAM,wB,0CAPjBE,EAAAA,EAAAA,IAwBM,MAxBNC,EAwBM,cAvBJC,EAAAA,EAAAA,IAA2B,UAAvB,sBAAkB,IACXC,EAAAC,UAAO,WAAlBJ,EAAAA,EAAAA,IAEM,MANVK,EAAAC,EAAA,KAAAA,EAAA,KAKMJ,EAAAA,EAAAA,IAA0C,SAAvC,uCAAmC,oBAExCF,EAAAA,EAAAA,IAkBM,MAzBVO,EAAA,cAQML,EAAAA,EAAAA,IAA+B,UAA3B,0BAAsB,KAC1BA,EAAAA,EAAAA,IAeQ,QAfRM,EAeQ,cAdNN,EAAAA,EAAAA,IAMQ,eALNA,EAAAA,EAAAA,IAIK,YAHHA,EAAAA,EAAAA,IAAU,UAAN,MACJA,EAAAA,EAAAA,IAAiB,UAAb,aACJA,EAAAA,EAAAA,IAAyB,UAArB,wBAAgB,KAGxBA,EAAAA,EAAAA,IAMQ,6BALNF,EAAAA,EAAAA,IAIKS,EAAAA,GAAA,MAtBfC,EAAAA,EAAAA,IAkB0CP,EAAAQ,cAlB1C,CAkBsBC,EAAUC,M,WAAtBb,EAAAA,EAAAA,IAIK,MAJ0CD,IAAKa,EAASE,Q,EAC3DZ,EAAAA,EAAAA,IAAwB,WAAAa,EAAAA,EAAAA,IAAjBF,EAAQ,GAAH,IACZX,EAAAA,EAAAA,IAA8B,WAAAa,EAAAA,EAAAA,IAAvBH,EAASE,QAAM,IACtBZ,EAAAA,EAAAA,IAAgC,WAAAa,EAAAA,EAAAA,IAAzBH,EAASI,UAAQ,Q,2CASpC,GACEC,IAAAA,GACE,MAAO,CACLC,UAAW,GACXP,aAAc,GACdP,SAAS,EAEb,EACAe,QAAS,CACP,iBAAMC,GACJ,IAEE,MAAMC,EACJ,mHAGIC,QAAiBC,MAAMF,GACvBJ,QAAaK,EAASE,OAE5B,GAAoB,YAAhBP,EAAKQ,OAAsB,CAC7B,MAAM,YAAEC,EAAW,UAAEC,GAAcV,EAG7BW,EAAuBF,EAAYG,KAAIC,IAAE,CAC7ChB,OAAQgB,EAAI,GACZd,SAAUe,SAASD,EAAI,GAAI,QAEvBE,EAAqBL,EAAUE,KAAIC,IACvC,MAAMZ,EAAYY,EAAI,GAAGG,MAAM,MAAMJ,KAAIK,IACvC,MAAOpB,EAAQE,GAAYkB,EAAKD,MAAM,MACtC,MAAO,CACLnB,OAAQA,EAAOqB,OACfnB,SAAUe,SAASf,EAAU,IAC9B,IAEH,OAAOE,CAAS,IACfkB,OAEHC,KAAKnB,UAAY,IAAIU,KAAyBI,GAG9C,MAAMM,EAASD,KAAKnB,UAAUqB,QAAO,CAACC,EAAK5B,KACzC4B,EAAI5B,EAASE,SAAW0B,EAAI5B,EAASE,SAAW,GAAKF,EAASI,SACvDwB,IACN,CAAC,GAGEC,EAAqBC,OAAOC,QAAQL,GACvCT,KAAI,EAAEf,EAAQE,MAAc,CAAGF,SAAQE,eACvC4B,MAAK,CAACC,EAAGC,IAAMA,EAAE9B,SAAW6B,EAAE7B,WAGjCqB,KAAK1B,aAAe8B,EAAmBM,MAAM,EAAG,GAEhDC,QAAQC,IAAI,iBAAkBZ,KAAK1B,aACrC,MACEqC,QAAQE,MAAM,mCAAoCjC,EAAKkC,QAE3D,CAAE,MAAOD,GACPF,QAAQE,MAAM,6BAA8BA,EAC9C,CAAE,QACAb,KAAKjC,SAAU,CACjB,CACF,GAEFgD,OAAAA,GACEf,KAAKjB,aACP,G,UC1FF,MAAMiC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://in-job/./src/views/AnalissView.vue","webpack://in-job/./src/views/AnalissView.vue?bd6d"],"sourcesContent":["\r\n<template>\r\n  <div class=\"container\">\r\n    <h2>Análisis de Ventas</h2>\r\n    <div v-if=\"loading\">\r\n      <p>Cargando datos, por favor espera...</p>\r\n    </div>\r\n    <div v-else>\r\n      <h3>Productos más vendidos</h3>\r\n      <table class=\"table table-bordered\">\r\n        <thead>\r\n          <tr>\r\n            <th>#</th>\r\n            <th>Producto</th>\r\n            <th>Cantidad Vendida</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"(producto, index) in topProductos\" :key=\"producto.nombre\">\r\n            <td>{{ index + 1 }}</td>\r\n            <td>{{ producto.nombre }}</td>\r\n            <td>{{ producto.cantidad }}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      productos: [], // Lista completa de productos\r\n      topProductos: [], // Top 2 productos\r\n      loading: true, // Indicador de carga\r\n    };\r\n  },\r\n  methods: {\r\n    async cargarDatos() {\r\n      try {\r\n        // URL de la API para obtener datos de Google Sheets\r\n        const apiURL =\r\n          \"https://script.google.com/macros/s/AKfycbzgj6MEHGwaiAYS24H8GNIZRDuZwkSsgkJFDDqsoE4byqMrdgJsic9R6kRxWeIQQu1f/exec\";\r\n\r\n        // Obtener datos de la API\r\n        const response = await fetch(apiURL);\r\n        const data = await response.json();\r\n\r\n        if (data.status === \"success\") {\r\n          const { facturacion, domicilio } = data;\r\n\r\n          // Combinar los datos de ambas hojas\r\n          const productosFacturacion = facturacion.map(row => ({\r\n            nombre: row[1],\r\n            cantidad: parseInt(row[3], 10),\r\n          }));\r\n          const productosDomicilio = domicilio.map(row => {\r\n            const productos = row[5].split(\", \").map(prod => {\r\n              const [nombre, cantidad] = prod.split(\" (\");\r\n              return {\r\n                nombre: nombre.trim(),\r\n                cantidad: parseInt(cantidad, 10),\r\n              };\r\n            });\r\n            return productos;\r\n          }).flat();\r\n\r\n          this.productos = [...productosFacturacion, ...productosDomicilio];\r\n\r\n          // Contar las cantidades de cada producto\r\n          const conteo = this.productos.reduce((acc, producto) => {\r\n            acc[producto.nombre] = (acc[producto.nombre] || 0) + producto.cantidad;\r\n            return acc;\r\n          }, {});\r\n\r\n          // Convertir a un arreglo y ordenar por cantidad\r\n          const productosOrdenados = Object.entries(conteo)\r\n            .map(([nombre, cantidad]) => ({ nombre, cantidad }))\r\n            .sort((a, b) => b.cantidad - a.cantidad);\r\n\r\n          // Obtener los dos productos más vendidos\r\n          this.topProductos = productosOrdenados.slice(0, 2);\r\n\r\n          console.log(\"Top productos:\", this.topProductos);\r\n        } else {\r\n          console.error(\"Error en la respuesta de la API:\", data.message);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error al cargar los datos:\", error);\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.cargarDatos();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  margin-top: 20px;\r\n}\r\nh2,\r\nh3 {\r\n  margin-bottom: 20px;\r\n}\r\n.table {\r\n  margin-top: 10px;\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n}\r\n.table-bordered {\r\n  border: 1px solid #dee2e6;\r\n}\r\n.table th,\r\n.table td {\r\n  text-align: center;\r\n  vertical-align: middle;\r\n  border: 1px solid #dee2e6;\r\n  padding: 8px;\r\n}\r\n</style>\r\n\r\n","import { render } from \"./AnalissView.vue?vue&type=template&id=95e88932&scoped=true\"\nimport script from \"./AnalissView.vue?vue&type=script&lang=js\"\nexport * from \"./AnalissView.vue?vue&type=script&lang=js\"\n\nimport \"./AnalissView.vue?vue&type=style&index=0&id=95e88932&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-95e88932\"]])\n\nexport default __exports__"],"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","$data","loading","_hoisted_2","_cache","_hoisted_3","_hoisted_4","_Fragment","_renderList","topProductos","producto","index","nombre","_toDisplayString","cantidad","data","productos","methods","cargarDatos","apiURL","response","fetch","json","status","facturacion","domicilio","productosFacturacion","map","row","parseInt","productosDomicilio","split","prod","trim","flat","this","conteo","reduce","acc","productosOrdenados","Object","entries","sort","a","b","slice","console","log","error","message","mounted","__exports__","render"],"sourceRoot":""}